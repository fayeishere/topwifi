<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Top Wifi Spaces</title>
        <meta name="description" content="The top wifi speeds in coffee shops, cafes, and coworking spaces around the world.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div class="header-container">
            <header class="wrapper clearfix">
                <h1 class="title">Top Wifi Spaces - <span id="powered"> powered by <a href="https://workfrom.co"><img src="/img/WorkfromLogo.png"></a> <span></h1>
                <h2 id="sub">Fastest wifi download speeds from work spaces around the world</h2>
            </header>
        </div>

        <div class="main-container">
            <div class="main wrapper clearfix">
                <a href="#" id="upload" class="toggle">See uploads instead</a>
                <div id="nav">
                    <div id="cities">
                        <ul>
                            <li><a href="#" id="amsterdam" class="city">Amsterdam</a></li>
                            <li><a href="#" id="austin" class="city">Austin</a></li>
                            <li><a href="#" id="bangkok" class="city">Bangkok</a></li>
                            <li><a href="#" id="brussels" class="city">Brussels</a></li>
                            <li><a href="#" id="charlotte" class="city">Charlotte</a></li>
                            <li><a href="#" id="chicago" class="city">Chicago</a></li>
                            <li><a href="#" id="columbus" class="city">Columbus</a></li>
                            <li><a href="#" id="london" class="city">London</a></li>
                            <li><a href="#" id="los-angeles" class="city">Los Angeles</a></li>
                            <li><a href="#" id="madrid" class="city">Madrid</a></li>
                            <li><a href="#" id="maribor" class="city">Maribor</a></li>
                            <li><a href="#" id="nyc" class="city">New York City</a></li>
                            <li><a href="#" id="omaha" class="city">Omaha</a></li>
                            <li><a href="#" id="portland" class="city">Portland</a></li>
                            <li><a href="#" id="prague" class="city">Prague</a></li>
                            <li><a href="#" id="san-francisco" class="city">San Francisco</a></li>
                            <li><a href="#" id="seattle" class="city">Seattle</a></li>
                            <li><a href="#" id="toronto" class="city">Toronto</a></li>
                            <li><a href="#" id="vancouver-bc" class="city">Vancouver BC</a></li>
                            <li><a href="#" id="washington-dc" class="city">Washington DC</a></li>
                        </ul>
                    </div>
                    <div id="expand-wrap"><a href="#" id="expand">more</a><span id="expand-icon"></span></div>
                </div>
                <h1 id="city-selected"></h1>
                <div id="content"></div>
                    
<!--                 <article>
                    <header>
                        <h1>article header h1</h1>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec.</p>
                    </header>
                    <section>
                        <h2>article section h2</h2>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices. Proin in est sed erat facilisis pharetra.</p>
                    </section>
                    <section>
                        <h2>article section h2</h2>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices. Proin in est sed erat facilisis pharetra.</p>
                    </section>
                    <footer>
                        <h3>article footer h3</h3>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor.</p>
                    </footer>
                </article>

                <aside>
                    <h3>aside</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices.</p>
                </aside>
 -->
            </div> <!-- #main -->
        </div> <!-- #main-container -->

<!--         <div class="footer-container">
            <footer class="wrapper">
                <h3>footer</h3>
            </footer>
        </div> -->

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script src="js/main.js"></script>
        <script type="text/javascript">

            $( ".city" ).click(function() {
                var citySelect = $(this).attr('id');
                console.log(citySelect);
                $( "#content" ).empty();
                $( "#city-selected" ).empty();
                $('#cities' ).css( "height", "100px" );
                $("#expand-wrap").show();
                $('#nav' ).css( "border", "solid 1px #2E4756" );
                $('#city-selected').append('<h1>' + citySelect + '</h1>');
                // $('.toggle').show();
                getCity(citySelect);

            });
            $( "#expand" ).click(function() {
                $('#cities' ).css( "height", "auto" );
                $('#expand-wrap' ).css( "display", "none" );
                $('#nav' ).css( "border", "0" );
            });

            function getCity(city){

                var url = "http://api.workfrom.co/places/city/" + city + "?appid=fayerocks";
                $.getJSON( url, function( data ) {
                  console.log(data);
                  parseJson(data);
                });
                // Be cool to allow user to toggle upload/download
                function parseJson(data){
                    var places = data.response;
                    var placesDown = places;
                    var placesUp = places;
                    placesDown.sort(function(a, b){return b.download-a.download});
                    // placesUp.sort(function(a, b){return b.upload-a.upload});
                    for (i = 0; i < places.length; i++) { 
                        if(placesDown[i].download > 5){
                            $( "#content" ).append( '<a href="https://workfrom.co/' + placesDown[i].slug + '"><img src=' + placesDown[i].thumbnail_img + '></br><h2>' + placesDown[i].title + '</h2></a><p>Download speed: ' + placesDown[i].download + '</p><p>Upload speed: ' + placesDown[i].upload + '</p></br>' );   
                        }

                    }
                    // $( ".toggle" ).click(function() {
                    //     var citySelect = $(this).attr('id');
                    //     console.log(citySelect);
                    //     $( "#content" ).empty();
                    //     for (i = 0; i < places.length; i++) { 
                    //         if(placesUp[i].download > 5){
                    //             $( "#content" ).append( '<a href="https://workfrom.co/' + placesUp[i].slug + '"><img src=' + placesUp[i].thumbnail_img + '></br><h2>' + placesUp[i].title + '</h2></a><p>Download speed: ' + placesUp[i].download + '</p><p>Upload speed: ' + placesUp[i].upload + '</p></br>' );   
                    //         }

                    //     }
                    // });

     
                }
            }

        </script>
        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>
    </body>
</html>
